<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="main"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<head>
    <title>用户添加</title>
</head>
<body>
<div layout:fragment="content">
    <div class="">
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>编辑销售机会<i class="fa fa-user"></i></h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="clearfix"></div>
                        <form class="form-horizontal form-label-left" th:action="@{/service/save}"
                              action="/service/save"
                              method="post">
                            <div class="x_content">
                                <input type="hidden" class="form-control" id="svrCreateId" name="svrCreateId"
                                       th:value="${usrId}">
                                <br>
                                <label class="control-label col-md-3 col-sm-3 col-xs-12">客户：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <select name="custNo" id="custNo" class="form-control" required="required">
                                        <option th:each="customer:${customer}" th:value="${customer.custNo}"
                                                th:text="${customer.custName}">客户
                                        </option>
                                    </select>
                                </div>

                                <label class="control-label col-md-3 col-sm-3 col-xs-12">服务类型：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <select name="svrType" id="svrType" class="form-control" required="required">
                                        <option th:each="dict:${dict}" th:value="${dict.dictValue}"
                                                th:text="${dict.dictItem}">客户
                                        </option>
                                    </select>
                                </div>

                                <label class="control-label col-md-3 col-sm-3 col-xs-12">创建人：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <input type="text" class="form-control" id="svrCreateBy" name="svrCreateBy"
                                           th:value="${usrName}">
                                </div>

                                <label class="control-label col-md-3 col-sm-3 col-xs-12">状态：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <input type="text" class="form-control" id="svrStatus" readonly="readonly"
                                           name="svrStatus" value="新创建">
                                </div>

                                <label class="control-label col-md-3 col-sm-3 col-xs-12">概要：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <input type="text" class="form-control" id="svrTitle" name="svrTitle">
                                </div>

                                <label class="control-label col-md-3 col-sm-3 col-xs-12">创建时间：</label>
                                <div class="col-md-3 col-sm-3 col-xs-12 form-group has-feedback">
                                    <input type="text" class="form-control" id="svrCreateDate" readonly="readonly"
                                           name="svrCreateDate"
                                           th:value="${#dates.format(new java.util.Date().getTime(), 'yyyy-MM-dd HH:mm:ss')}">
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">服务请求：</label>
                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                        <textarea class="form-control" rows="3" id="svrRequest"
                                                  name="svrRequest"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-6 col-md-offset-3">
                                    <button id="send" type="submit" class="btn btn-success">保存</button>
                                    <button type="button" class="btn btn-primary" id="back">返回</button>
                                    <br/><br/>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script layout:fragment="js">
    $(document).ready(function () {
        $("#back").on("click", function () {
            window.history.back();
        });

    });


    $(document).submit(function () {
        if ($("#svrRequest").val() == null || $("#svrRequest").val() == "") {
            alert("服务请求不能为空");
            return false;
        }
        if ($("#svrTitle").val() == null || $("#svrTitle").val() == "") {
            alert("概要不能为空");
            return false;
        }
        if ($("#svrCreateBy").val() == null || $("#svrCreateBy").val() == "") {
            alert("创建人不能为空");
            return false;
        }
        return true;
    })
</script>
</html>